(function(a){"use strict";var b=function(a,b){let c=a[0].querySelectorAll(".tp-pro-l-type-wishlist .ajax_lazy_load .post-lazy-load, .tp-dy-l-type-wishlist .ajax_lazy_load .post-lazy-load");var d=jQuery("body").hasClass("logged-in")?"true":"false",e="";0<c.length&&function(a,c){var h,i,j,k,l,m,n=b(window),o=function(){h=n.width(),i=n.height(),j=b("body").height(),l=b(".list-isotope,.list-isotope-metro",c).height(),m=b(".list-isotope,.list-isotope-metro",c).offset().top+50,setTimeout(function(){l=b(".list-isotope,.list-isotope-metro",c).height(),m=b(".list-isotope,.list-isotope-metro",c).offset().top+50},50)};o(),n.resize(o),n.bind("scroll",function(h){h.preventDefault(),o(),k=n.scrollTop(),b(".list-isotope,.list-isotope-metro",c).each(function(){if(l=c.height(),m=c.offset().top+50,c.find(".post-lazy-load").length&&k<j&&k>l+m-i){var b=a[0],h=b.dataset.wid,n=b.dataset.page,o=b.dataset.total_page,p=b.dataset.loadClass,q=b.dataset.layout,r=b.dataset.loadattr,s=b.dataset.display_post,t=b.dataset.offset_posts,u=b.dataset.post_load_more,v=b.innerText,w=b.dataset.loaded_posts,x=b.dataset.tp_loading_text;if("true"==b.dataset.requestRunning)return;if((null==t||""==t)&&(t=0),o>=n){b.dataset.requestRunning=!0;var y=parseInt(n-1)*parseInt(u)+parseInt(s)+parseInt(t);if("false"==d){var z=JSON.parse(localStorage.getItem(h));e=z?z:""}var A={action:"theplus_more_post",offset:y,paged:n,loadattr:r,nonce:"theplus-addons",login:d,shopname:h,notloginwl:e};jQuery.ajax({type:"POST",data:A,url:theplus_ajax_url,beforeSend:function(){b.textContent=x},success:function(a){var c=a.HtmlData,d=b.closest(".ajax_lazy_load")?.previousSibling;if(setTimeout(function(){f("hidden",d)},1e3),""==c?b.classList.add("hide"):(jQuery("."+p+" .post-inner-loop").append(c),g(q,p)),n++,n==o){b.classList.add("hide"),b.setAttribute("data-page",n);var e=b.closest(".ajax_lazy_load"),h=document.createElement("div");h.className="plus-all-posts-loaded",h.textContent=w,e.appendChild(h)}else b.textContent=v,b.setAttribute("data-page",n)},complete:function(){b.dataset.requestRunning=!1}}).then(function(){})}}})})}(c,a);var f=function(a,b){if(b){let c=b.querySelectorAll(".tp-skeleton");0<c.length&&c.forEach(function(b){"visible"==b.style.visibility&&1==b.style.opacity?"hidden"===a&&(b.style.cssText="visibility: hidden; opacity: 0;"):"visible"===a&&(b.style.cssText="visibility: visible; opacity: 1;")})}},g=function(a,c){if("grid"==a||"masonry"==a){var d=b("."+c+" .post-inner-loop");d.isotope({itemSelector:".grid-item"}),b("."+c).hasClass("list-grid-client")||setTimeout(function(){b("."+c+" .post-inner-loop").isotope("reloadItems").isotope()},500)}if("metro"==a&&0<b("."+c+".list-isotope-metro .post-inner-loop").length){var d=b("."+c),e=d.data("id"),f=d.attr("data-metro-columns"),g=d.attr("data-metro-style");theplus_backend_packery_portfolio(e,f,g)}}};a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-product-listout.default",b)})})(jQuery);