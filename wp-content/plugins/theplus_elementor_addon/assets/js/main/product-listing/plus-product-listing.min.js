/*TP Product Listout*/
(function ($) {
	"use strict";
	var WidgetProQCWHandler = function($scope, $) {
        let tp_wishlist = $scope[0].querySelectorAll('.product-list.tp-pro-l-type-wishlist'),
			tp_recent_view = $scope[0].querySelectorAll('.product-list.tp-pro-l-type-recently_viewed'),
            wish_filter = $scope[0].querySelector('.product-list');

        if ( tp_wishlist.length > 0 ) {
            tp_woo_listing( $scope, tp_wishlist, 'products' );
        }

        if ( tp_recent_view.length > 0 ) {
            tp_woo_listing( $scope, tp_recent_view, 'products' );
        }
       
        var plus_ajax_filter = wish_filter?.classList.contains('plus_ajax_filter') || '';

        if (plus_ajax_filter) {
            var wishFilter_attr = wish_filter.getAttribute('filter-type');
            if ('ajax_base' === wishFilter_attr) {
                wish_filter_onload_call($scope);
            }

            jQuery($scope).on('click', '.filter-category-list-ajax', function (e) {
                e.preventDefault();
                var $this = this;
                click_category_list($this);
            });
        }
       
        if( tp_wishlist.length == 0 ) {
            var loadmoremain = $scope[0].querySelectorAll( '.post-load-more' );
            if ( loadmoremain.length > 0 ) {
                loadmore_onload_call( loadmoremain );
    
                // jQuery($scope[0]).on("click", ".post-load-more", function(e){
                jQuery(loadmoremain).on("click", function(e){
                    e.preventDefault();
                    clickloadmore($(this));
                });
            }
        }
	};

	$(window).on('elementor/frontend/init', function () {
		elementorFrontend.hooks.addAction('frontend/element_ready/tp-product-listout.default', WidgetProQCWHandler);
	});
})(jQuery);