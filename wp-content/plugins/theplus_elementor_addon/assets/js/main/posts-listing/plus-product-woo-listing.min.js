function tp_woo_listing(a,b,c){$=jQuery;var d=b,e=$("body").hasClass("logged-in")?"true":"false",f=d[0].querySelectorAll(".tp-row"),g=JSON.parse(f[0].getAttribute("data-wooattr"));let h=[],j=[];if(!(d[0].classList.contains("tp-pro-l-type-wishlist")||d[0].classList.contains("tp-dy-l-type-wishlist")))d[0].classList.contains("tp-pro-l-type-recently_viewed")&&(g="recently_viewed");else if(g="wishlist","products"===c)var k="tpwishlist";else if("dynamic"===c)var k=a[0].querySelector(".dynamic-listing.tp-dy-l-type-wishlist").dataset.wid;if(f.length&&f.forEach(function(a,b){if(h[b]=a.dataset.wooattr?JSON.parse(a.dataset.wooattr):[],"false"==e&&"wishlist"==g)if(c=[],a.offsetParent.classList.contains("product-list")){let d=a.dataset.wid;var c=JSON.parse(localStorage.getItem(d));j[b]=c?c:[]}else if(a.offsetParent.classList.contains("dynamic-listing")){let d=a.offsetParent.dataset.wid;var c=JSON.parse(localStorage.getItem(d));j[b]=c?c:[]}}),d.length){function a(a,b){var c=parseInt(a.count),d=parseInt(b.dataset.offsetPosts),e=parseInt(b.dataset.display_post),f=parseInt(b.dataset.post_load_more);if(e>=c){b.classList.add("hide");var g=b.closest(".ajax_lazy_load"),h=document.createElement("div");h.className="plus-all-posts-loaded",h.textContent=b.dataset.loaded_posts,g.appendChild(h)}if(c=parseInt(c-(e+d)),0!=c&&0!=f)var j=Math.ceil(c/f);else var j=1;++j,b.setAttribute("data-total_page",j);var k=b,l=k.dataset.page,m=k.dataset.total_page,n=k.innerText,o=k.dataset.loaded_posts,p=k.getAttribute("loadmore-count");if(p)if(l=parseInt(l)+parseInt(p),l==m){k.classList.add("hide"),k.setAttribute("data-page",l);var g=k.closest(".ajax_load_more"),h=document.createElement("div");h.className="plus-all-posts-loaded",h.textContent=o,g.appendChild(h)}else k.textContent=n,k.setAttribute("data-page",l)}function b(a,b){var c=parseInt(a.count),d=parseInt(b.dataset.offsetPosts),e=parseInt(b.dataset.display_post),f=parseInt(b.dataset.post_load_more);if(e>=c){b.classList.add("hide");var g=b.closest(".ajax_load_more"),h=document.createElement("div");h.className="plus-all-posts-loaded",h.textContent=b.dataset.loaded_posts,g.appendChild(h)}if(c=parseInt(c-(e+d)),0!=c&&0!=f)var j=Math.ceil(c/f);else var j=1;++j,b.setAttribute("data-total_page",j);var k=b,l=k.dataset.page,m=k.dataset.total_page,n=k.innerText,o=k.dataset.loaded_posts,p=k.getAttribute("loadmore-count");if(p)if(l=parseInt(l)+parseInt(p),l==m){k.classList.add("hide"),k.setAttribute("data-page",l);var g=k.closest(".ajax_load_more"),h=document.createElement("div");h.className="plus-all-posts-loaded",h.textContent=o,g.appendChild(h)}else k.textContent=n,k.setAttribute("data-page",l)}function k(a,b,c,e){var f=e&&e.dataset.searchattr?JSON.parse(e.dataset.searchattr):[],g=f.offset_posts?f.offset_posts:0,h=b.count;if(("wishlist"==f.listing_type||"recently_viewed"==f.listing_type)&&"ajaxbased"==f.paginationType){var j=f.display_post?f.display_post:0,k=Math.ceil(h/j);if(j<h){let a=d[0].querySelector(".theplus-pagination");if(a){var l=a.querySelector(".paginate-next");if(l.classList.contains("tp-page-hide")&&l.classList.remove("tp-page-hide"),!a.querySelector(".tp-number.current"))for(i=1;i<=k;i++){var m="";1==i?m="current":3<i&&(m="tp-page-hide");var n=document.createElement("a");n.setAttribute("href","#"),n.setAttribute("class","tp-ajax-paginate tp-number "+m),n.setAttribute("data-page",i),n.textContent=i,l.parentNode.insertBefore(n,l)}}}let b=d[0].querySelectorAll(".theplus-pagination");if(0<b.length){let e=d[0].querySelectorAll(".theplus-pagination .tp-ajax-paginate");0<e.length&&onpagBtnClick(e,c,b,f,g,k,a)}}}var l=[];if("false"==e)if("wishlist"==g);else if("recently_viewed"==g){let a=Cookies.get("tpwoorplnonlogin");a?0!=a.length&&(l=a.includes("|")?a.split("|"):a.split(" "),j=l):console.log("")}let p=document.querySelectorAll(".tp-pro-l-type-wishlist .post-load-more, .tp-dy-l-type-wishlist .post-load-more");if(0<p.length){let a=new URL(window.location.href);if(a&&a.search){let b=new URLSearchParams(a.search);var m={},n={};b.forEach((a,b)=>{if(b.startsWith("loadmore")){let c=b.replace("loadmore_","");m[b]=a,n[c]=c}}),0<Object.keys(m).length&&(n=Object.values(n),p.forEach(function(a){let b=a;var c=!1;n.forEach(a=>{c=!!b.closest(`.elementor-element-${a}`),c&&b.setAttribute("loadmore-count",m[`loadmore_${a}`])})}))}}$.ajax({type:"POST",url:theplus_ajax_url,data:{action:"tp_wl_get_all_data_ajax",listingtype:g,dataType:"json",option:h,login:e,notloginwl:j,security:theplus_nonce,loadmoreParams:m},success:function(e){f.forEach(function(f,h){var j=JSON.parse(e[h].htmljsondata);if("wishlist"===g){var l=0;if("products"===c){var m=d[0].querySelector(".tp-pro-l-type-wishlist .tp-ajax-paginate-wrapper");m&&k(l,j,f,m);var n=d[0].querySelector(".tp-pro-l-type-wishlist .ajax_load_more > .post-load-more");n&&b(j,n,c);var p=d[0].querySelector(".tp-pro-l-type-wishlist .ajax_lazy_load > .post-lazy-load");p&&a(j,p,c)}else if("dynamic"===c){var m=d[0].querySelector(".tp-dy-l-type-wishlist .tp-ajax-paginate-wrapper");m&&k(l,j,f,m);var n=d[0].querySelector(".tp-dy-l-type-wishlist .ajax_load_more > .post-load-more");n&&b(j,n,c)}}else if("recently_viewed"==g){var q=d[0].querySelector(".tp-pro-l-type-recently_viewed .tp-ajax-paginate-wrapper"),l=0;k(l,j,f,q)}if(null!=j.listdata&&0!=j.listdata.length){d[0].querySelector(".tp-row .theplus-posts-not-found")&&d[0].querySelector(".tp-row .theplus-posts-not-found").remove();let a=d[0].querySelector(".tp-row");a.innerHTML="",a.insertAdjacentHTML("afterbegin",e[h].HtmlData);let b=f.dataset.extparam?JSON.parse(f.dataset.extparam):[],g=b["loading-opt"]?b["loading-opt"]:"";"skeleton"==g&&o("visible"),setTimeout(function(){if("skeleton"==g&&o("hidden"),"products"===c)var a=document.querySelectorAll(".product-list.list-isotope-metro"),b=document.querySelectorAll(".product-list .tp-row.layout-fitRows"),e=document.querySelectorAll(".product-list .tp-row.layout-masonry"),f=document.querySelectorAll(".product-list .list-carousel-slick > .post-inner-loop");else if("dynamic"===c)var a=document.querySelectorAll(".dynamic-listing.list-isotope-metro"),b=document.querySelectorAll(".dynamic-listing .tp-row.layout-fitRows"),e=document.querySelectorAll(".dynamic-listing .tp-row.layout-masonry"),f=document.querySelectorAll(".dynamic-listing.list-carousel-slick > .post-inner-loop");(b.length||e.length)&&$(d[0].querySelector(".tp-row")).isotope("reloadItems").isotope(),f.length&&$(d[0].querySelector(".list-carousel-slick > .post-inner-loop")).slick("setPosition"),a.length&&theplus_setup_packery_portfolio("all")},1e3)}else{f.innerHTML="";var r=e[h].HtmlError?e[h].HtmlError:"";f.insertAdjacentHTML("afterbegin",`<h3 class="theplus-posts-not-found tp-pl-nf-space">${r}</h3>`),f.style.cssText="height: 75px;"}})}}),$(d).on("click",".tp-pro-wl-remove-item",function(a){a.preventDefault();var b=$(this),c=b.data("product");c=c.toString(),jQuery(".tp-woo-wishlist .tp_wishlist_remove").each(function(){var a=$(this),b=a.data("product");b.toString()===c&&$(this).trigger("click")})})}var o=function(b){let c=a[0].querySelectorAll(".tp-skeleton");0<c.length&&c.forEach(function(a){"visible"==a.style.visibility&&1==a.style.opacity?"hidden"==b&&(a.style.cssText="visibility: hidden; opacity: 0;"):"visible"==b&&(a.style.cssText="visibility: visible; opacity: 1;")})}}